<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Quick Locations • Curvea</title>
  <meta name="description" content="Fast access to saved delivery locations and predefined routes by zone." />

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0B0F13">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Locations">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind (same tokens as your locations page) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui','-apple-system','Segoe UI','Roboto','Helvetica Neue','Arial'] },
          colors: {
            base:  { 900:'#0B0F13', 800:'#10161C', 700:'#141C24', 600:'#1B2430', 500:'#223042' },
            brand: { 500:'#69C5FF', 600:'#3DAAFB', 700:'#2696E4', 800:'#1F7CC0' },
            lime:  { 500:'#A2F26D' }
          }
        }
      }
    }
  </script>

  <style>
    :root{--safe-top:env(safe-area-inset-top,0);--safe-bottom:env(safe-area-inset-bottom,0)}
    body{font-family:Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial}
    .hero{
      background:
        radial-gradient(900px 420px at 20% -160px, rgba(61,170,251,.25), transparent 70%),
        radial-gradient(900px 420px at 80% -160px, rgba(162,242,109,.18), transparent 70%),
        linear-gradient(180deg,#0B0F13 0%, #10161C 60%, #0B0F13 100%);
    }
    .glass{background:rgba(255,255,255,.06);backdrop-filter:blur(10px)}
    .ring-soft{box-shadow: inset 0 0 0 1px rgba(255,255,255,.1)}
    .tap{min-height:52px}
    button,a{-webkit-tap-highlight-color:transparent}
  </style>

<script>
  // allow 1+ tokens (hashes). generate at: https://emn178.github.io/online-tools/sha256.html
  window.QL_LOCK = {
    tokenHashes: [
      "2dfdc7347827cdd347d388b6021e9a96aceb56078e2a4eec9345f257add1d1eb"
    ],
    appKey: "quicklocation-v1"
  };
</script>

<script src="lock.js"></script>

</head>
<body class="h-full bg-base-900 text-white antialiased">
  <main class="min-h-full grid grid-rows-[auto_1fr_auto]">
    <!-- HERO -->
    <header class="hero border-b border-white/10">
      <div class="max-w-xl mx-auto px-5 pt-[calc(28px+var(--safe-top))] pb-8">
        <div class="flex items-center gap-3">
          <div class="h-12 w-12 rounded-2xl glass ring-soft flex items-center justify-center">
            <img src="icons/icon-512.png" alt="" class="h-10 w-10 opacity-90" />
          </div>
          <div>
            <h1 class="text-lg font-bold tracking-tight">Quick Locations</h1>
            <p class="text-sm text-white/70">Fast access to Locations and predefined Zones.</p>
          </div>
        </div>
      </div>
    </header>

    <!-- CENTER STAGE -->
    <section class="px-5">
      <div class="max-w-xl mx-auto py-10 md:py-14">
        <!-- Big logo -->
        <div class="relative mx-auto w-40 h-40 sm:w-48 sm:h-48">
          <div class="absolute inset-0 rounded-[28px] bg-white/5 ring-1 ring-white/10 blur-[1px]"></div>
          <img src="icons/icon-512.png" alt="App Logo"
               class="relative z-[1] w-full h-full object-contain rounded-[28px] shadow-[0_20px_60px_rgba(0,0,0,.45)]" />
        </div>

        <!-- Headline -->
        <div class="mt-6 text-center">
          <h2 class="text-2xl md:text-3xl font-semibold tracking-tight">Deliver faster. Navigate smarter.</h2>
          <p class="mt-2 text-white/70 text-sm md:text-base">Open any saved place in one tap, or launch a full zone route in Google Maps.</p>
        </div>

        <!-- Primary actions -->
        <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3">
          <a href="locations.html"
             class="tap inline-flex items-center justify-center rounded-2xl px-4 py-4 font-semibold text-sm
                    bg-brand-600 text-black shadow-lg shadow-[rgba(61,170,251,0.25)]
                    focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-black focus-visible:ring-brand-600">
            View Locations
          </a>

          <a href="zones.html"
             class="tap inline-flex items-center justify-center rounded-2xl px-4 py-4 font-semibold text-sm
                    ring-1 ring-white/10 text-white hover:bg-white/[0.06]
                    focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-black focus-visible:ring-white/30">
            View Zones
          </a>

          <button id="installBtn"
             class="tap inline-flex items-center justify-center rounded-2xl px-4 py-4 font-semibold text-sm
                    ring-1 ring-white/10 text-white hover:bg-white/[0.06]
                    focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-black focus-visible:ring-white/30">
            Install App
          </button>
        </div>

        <!-- Small note -->
        <p class="mt-3 text-center text-xs text-white/60">Works best on Android Chrome. Internet required for Maps.</p>
      </div>
    </section>

    <!-- FOOTER -->
<footer class="border-t border-white/10">
  <div
    class="max-w-xl mx-auto px-5 py-5 md:py-4
           flex flex-col md:flex-row items-center justify-center
           gap-2 md:gap-3 text-[11px] md:text-xs text-white/70
           text-center md:text-left"
    style="padding-bottom: calc(16px + env(safe-area-inset-bottom, 0));"
  >
    <span class="order-1 md:order-none">© <span id="y"></span> · Quick Locations</span>

    <span class="hidden md:inline select-none">•</span>

    <a href="https://curveadesign.com"
       class="order-2 md:order-none inline-flex items-center justify-center gap-2 hover:text-white transition-colors">
      <img src="https://curveadesign.com/assets/img/CurveaLogo.svg"
           alt="Curvea Design"
           class="h-4 w-auto opacity-80 md:h-5" />
      <span class="font-medium">Designed &amp; powered by Curvea Design</span>
    </a>
  </div>
</footer>
  </main>
<!-- ACCESS GATE (Tailwind-based) -->
<div id="ql-gate" class="fixed inset-0 z-[1000] hidden">
  <div class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>

  <div class="relative h-full w-full grid place-items-center p-5">
    <div class="w-full max-w-sm rounded-2xl bg-base-800 text-white border border-white/10 shadow-xl">
      <div class="p-5">
        <div class="flex items-center gap-3">
          <img src="icons/icon-192.png" class="h-10 w-10 rounded-xl ring-1 ring-white/10" alt="">
          <div>
            <h2 class="text-base font-semibold leading-5">Access</h2>
            <p class="text-xs text-white/70">Enter your one-time token to unlock this device.</p>
          </div>
        </div>

        <div class="mt-4">
          <input id="ql-gate-token" type="password" autocomplete="one-time-code"
                 class="w-full rounded-xl px-3 py-3 bg-white/5 ring-1 ring-white/10 outline-none
                        focus:ring-2 focus:ring-brand-600 placeholder:text-white/40"
                 placeholder="Token">
          <p id="ql-gate-msg" class="mt-2 text-xs text-rose-300 hidden">Invalid token.</p>
        </div>

        <div class="mt-4 flex items-center gap-2">
          <button id="ql-gate-cancel" class="tap px-3 py-2 rounded-xl ring-1 ring-white/10 hover:bg-white/5 flex-1">
            Cancel
          </button>
          <button id="ql-gate-submit" class="tap px-3 py-2 rounded-xl bg-brand-600 text-black font-semibold flex-1">
            Unlock
          </button>
        </div>

        <div class="mt-3 text-[11px] text-white/50 flex items-center justify-between">
          <button id="ql-gate-reset" class="underline decoration-dotted">Reset access on this device</button>
          <span id="ql-gate-dev" class="hidden"></span>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Install logic -->
  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    const installBtn = document.getElementById('installBtn');
    let deferredPrompt = null;

    // Detect standalone
    const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
    if (isStandalone) {
      installBtn.textContent = 'Installed';
      installBtn.disabled = true;
      installBtn.classList.add('opacity-60','cursor-default');
    }

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      // Button stays visible; we only trigger prompt on click
    });

    installBtn.addEventListener('click', async () => {
      if (installBtn.disabled) return;
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') {
          installBtn.textContent = 'Installed';
          installBtn.disabled = true;
          installBtn.classList.add('opacity-60','cursor-default');
        }
        deferredPrompt = null;
      } else {
        // Fallback hint (Safari iOS or if prompt not available)
        alert('Tip: use your browser menu and choose “Install app” to add it to your Home Screen.');
      }
    });

    // Optional SW register (no error if missing)
    if ('serviceWorker' in navigator && (location.protocol === 'https:' || location.hostname === 'localhost' || location.hostname === '127.0.0.1')) {
      navigator.serviceWorker.register('./service-worker.js').catch(()=>{});
    }
  </script>
</body>
</html>
